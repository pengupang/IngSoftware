{%include 'header.html'%}

<div class="container mt-5">
  
<div class="alert alert-primary display-1">{{titulo}}</div>
{% if messages %}
    {% for message in messages %}
        <div class="alert {{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}
{% endif %}
<div class="mb-3">
    <a href="{%url 'productosVer'%}" class="btn btn-success">
        <i class="bi bi-plus-circle-fill"></i> Materias Habilitadas
    </a>
  </div>
<table class="table table-striped">
    <thead>
        <tr>
            <th>Id</th>
            <th>Nombre</th>
            <th>Cantidad</th>
            <th>Composicion</th>
            <th>Estado</th>
            <th colspan="3">Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for producto in productos %}
        <tr>
            <td>{{ producto.id }}</td>
            <td>{{ producto.nombre }}</td>
            <td>{{ producto.cantidad }}</td>
            <td>
                <ul>
                    {% for materia in producto.composicion.all %}
                    <li>{{ materia.nombre }} - {{ materia.cantidad }} {{ materia.unidadMedida }}</li>
                    {% endfor %}
                </ul>
            </td>
            <td>{{ producto.estadoProducto }}</td>
    
            <td>
                <a href="{%url 'productosHabilitar' producto.id%}"
                  class='btn btn-danger'><i class="bi bi-trash">Habilitar</i>
               </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
        
</div>
</div>

{%include 'footer.html'%}