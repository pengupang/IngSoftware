{%include 'header.html'%}
<div class="container mt-5">
    <h1>{{ titulo }} - {{ producto.nombre }}</h1>
    {% if messages %}
    {% for message in messages %}
        <div class="alert {{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}
{% endif %}

    
    <form method="post">
        {% csrf_token %}
        <!-- Cantidad a Agregar -->
        <div>
            <label for="cantidad">Cantidad a agregar:</label>
            <input type="number" class="form-control" name="cantidad" placeholder="Cantidad a agregar" required>
        </div>
        
        <h3>Composici√≥n:</h3>
        {% for composicion in producto.productomateria_set.all %}
            <div>
                <label for="materia_{{ composicion.materia.id }}">{{ composicion.materia.nombre }}</label>
                <input type="number" class="form-control" id="cantidad_{{ composicion.materia.id }}" name="cantidad_utilizada_{{ composicion.materia.id }}" value="{{ composicion.cantidad_utilizada }}" required>
            </div>
        {% endfor %}
        
        <button class="btn btn-info" type="submit">Actualizar Producto</button>
    </form>
</div>
{%include 'footer.html'%}
